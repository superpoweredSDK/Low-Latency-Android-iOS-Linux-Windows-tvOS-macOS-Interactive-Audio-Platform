<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Superpowered SDKs: Superpowered::Recorder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Superpowered SDKs
   &#160;<span id="projectnumber">2.0.4</span>
   </div>
   <div id="projectbrief">Pain-free Audio, Cryptographics and Networking Development for Android, iOS, macOS, tvOS, Linux and Windows</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_superpowered.html">Superpowered</a></li><li class="navelem"><a class="el" href="class_superpowered_1_1_recorder.html">Recorder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_superpowered_1_1_recorder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Superpowered::Recorder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae9e3a572268ccaacc95a9b8ac7fd3a70"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_superpowered_1_1_recorder.html#ae9e3a572268ccaacc95a9b8ac7fd3a70">Recorder</a> (const char *tempPath)</td></tr>
<tr class="separator:ae9e3a572268ccaacc95a9b8ac7fd3a70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85e316bb4268c755fb39f923d7756fa8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_superpowered_1_1_recorder.html#a85e316bb4268c755fb39f923d7756fa8">~Recorder</a> ()</td></tr>
<tr class="separator:a85e316bb4268c755fb39f923d7756fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fda71333c52a7bce0ccf4b93c11801b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_superpowered_1_1_recorder.html#a4fda71333c52a7bce0ccf4b93c11801b">prepare</a> (const char *destinationPath, unsigned int <a class="el" href="_superpoweredtv_o_s_audio_i_o_8mm.html#ac38751c7169cfeb9325a947cc0484286">samplerate</a>, bool fadeInFadeOut, unsigned int minimumLengthSeconds)</td></tr>
<tr class="separator:a4fda71333c52a7bce0ccf4b93c11801b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad5eb26b71e2023da4c45e1fb1ef513"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_superpowered_1_1_recorder.html#a9ad5eb26b71e2023da4c45e1fb1ef513">preparefd</a> (int audiofd, int logfd, unsigned int <a class="el" href="_superpoweredtv_o_s_audio_i_o_8mm.html#ac38751c7169cfeb9325a947cc0484286">samplerate</a>, bool fadeInFadeOut, unsigned int minimumLengthSeconds)</td></tr>
<tr class="separator:a9ad5eb26b71e2023da4c45e1fb1ef513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8678b7edce2b9f7578839a411a054a99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_superpowered_1_1_recorder.html#a8678b7edce2b9f7578839a411a054a99">stop</a> ()</td></tr>
<tr class="separator:a8678b7edce2b9f7578839a411a054a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e22baff48e8bb7e0fec9fce80701fa0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_superpowered_1_1_recorder.html#a6e22baff48e8bb7e0fec9fce80701fa0">isFinished</a> ()</td></tr>
<tr class="separator:a6e22baff48e8bb7e0fec9fce80701fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c61b56a0d2f50608d501b83f355e9fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_superpowered_1_1_recorder.html#a7c61b56a0d2f50608d501b83f355e9fa">addToTracklist</a> (char *artist, char *title, int becameAudibleSeconds=0, bool takeOwnership=false)</td></tr>
<tr class="separator:a7c61b56a0d2f50608d501b83f355e9fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86b2b07149dada381a89ba3985ce627"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_superpowered_1_1_recorder.html#ad86b2b07149dada381a89ba3985ce627">recordNonInterleaved</a> (float *left, float *right, unsigned int numberOfFrames)</td></tr>
<tr class="separator:ad86b2b07149dada381a89ba3985ce627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab0b0e4742f0a27e6d03cdad86a42692"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_superpowered_1_1_recorder.html#aab0b0e4742f0a27e6d03cdad86a42692">recordInterleaved</a> (float *input, unsigned int numberOfFrames)</td></tr>
<tr class="separator:aab0b0e4742f0a27e6d03cdad86a42692"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae9e3a572268ccaacc95a9b8ac7fd3a70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9e3a572268ccaacc95a9b8ac7fd3a70">&#9670;&nbsp;</a></span>Recorder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Superpowered::Recorder::Recorder </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tempPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a recorder instance. </p>
<dl class="section warning"><dt>Warning</dt><dd>Filesystem paths in C are different than paths in Java. /sdcard becomes /mnt/sdcard for example. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tempPath</td><td>The full filesystem path of a temporary file. The recorder will create and write into this while recording. Can be NULL if only <a class="el" href="class_superpowered_1_1_recorder.html#a9ad5eb26b71e2023da4c45e1fb1ef513" title="Prepares for recording. The actual recording will begin on the first call of the process() method...">preparefd()</a> is used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a85e316bb4268c755fb39f923d7756fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85e316bb4268c755fb39f923d7756fa8">&#9670;&nbsp;</a></span>~Recorder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Superpowered::Recorder::~Recorder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4fda71333c52a7bce0ccf4b93c11801b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fda71333c52a7bce0ccf4b93c11801b">&#9670;&nbsp;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Superpowered::Recorder::prepare </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>destinationPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>samplerate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fadeInFadeOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>minimumLengthSeconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares for recording. The actual recording will begin on the first call of the process() method. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true on success or false if another recording is still active or not finished writing to disk yet. Do not call this in a real-time audio processing thread. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destinationPath</td><td>The full filesystem path of the successfully finished recording. Do not include ".wav" in this, the .wav extension will be automatically appended. </td></tr>
    <tr><td class="paramname">samplerate</td><td>The sample rate of the audio input and the recording, in Hz. The input sample rate must remain the same during the entire recording. </td></tr>
    <tr><td class="paramname">fadeInFadeOut</td><td>If true, the recorder applies a fade-in at the beginning and a fade-out at the end of the recording. The fade is 64 frames long. </td></tr>
    <tr><td class="paramname">minimumLengthSeconds</td><td>The minimum length of the recording. If the number of recorded seconds is lower, then a file will not be saved. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9ad5eb26b71e2023da4c45e1fb1ef513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad5eb26b71e2023da4c45e1fb1ef513">&#9670;&nbsp;</a></span>preparefd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Superpowered::Recorder::preparefd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>audiofd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>logfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>samplerate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fadeInFadeOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>minimumLengthSeconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares for recording. The actual recording will begin on the first call of the process() method. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true on success or false if another recording is still active or not finished writing to disk yet. Do not call this in a real-time audio processing thread. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">audiofd</td><td>Existing file descriptor for the audio file. <a class="el" href="namespace_superpowered.html">Superpowered</a> will fdopen on this using "w" mode. </td></tr>
    <tr><td class="paramname">logfd</td><td>Existing file descriptor for the .txt file. Can be 0 if addtoTracklist() is not used. </td></tr>
    <tr><td class="paramname">samplerate</td><td>The sample rate of the audio input and the recording, in Hz. The input sample rate must remain the same during the entire recording. </td></tr>
    <tr><td class="paramname">fadeInFadeOut</td><td>If true, the recorder applies a fade-in at the beginning and a fade-out at the end of the recording. The fade is 64 frames long. </td></tr>
    <tr><td class="paramname">minimumLengthSeconds</td><td>The minimum length of the recording. If the number of recorded seconds is lower, then a file will not be saved. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8678b7edce2b9f7578839a411a054a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8678b7edce2b9f7578839a411a054a99">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Superpowered::Recorder::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops recording. After calling <a class="el" href="class_superpowered_1_1_recorder.html#a8678b7edce2b9f7578839a411a054a99" title="Stops recording. After calling stop() the recorder needs a little bit more time to write the last pie...">stop()</a> the recorder needs a little bit more time to write the last pieces of audio to disk. You can periodically call <a class="el" href="class_superpowered_1_1_recorder.html#a6e22baff48e8bb7e0fec9fce80701fa0">isFinished()</a> to check when it's done. It's safe to call this method in any thread. </p>

</div>
</div>
<a id="a6e22baff48e8bb7e0fec9fce80701fa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e22baff48e8bb7e0fec9fce80701fa0">&#9670;&nbsp;</a></span>isFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Superpowered::Recorder::isFinished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Returns true is the recorder has finished writing after <a class="el" href="class_superpowered_1_1_recorder.html#a8678b7edce2b9f7578839a411a054a99" title="Stops recording. After calling stop() the recorder needs a little bit more time to write the last pie...">stop()</a> was called, so the recording is fully available at the destination path. It's safe to call this method in any thread. </dd></dl>

</div>
</div>
<a id="a7c61b56a0d2f50608d501b83f355e9fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c61b56a0d2f50608d501b83f355e9fa">&#9670;&nbsp;</a></span>addToTracklist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Superpowered::Recorder::addToTracklist </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>artist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>becameAudibleSeconds</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>takeOwnership</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Each recording may include a tracklist, which is a .txt file placed next to the destination audio file. This method adds an entry to the tracklist. The tracklist file will not be created if this method is never called. Do not call this in a real-time audio processing thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">artist</td><td>Artist, can be NULL. </td></tr>
    <tr><td class="paramname">title</td><td>Title, can be NULL. </td></tr>
    <tr><td class="paramname">becameAudibleSeconds</td><td>When the current track begins to be audible in this recording, relative to "now". For example, 0 means "now", -10 means "10 seconds ago". </td></tr>
    <tr><td class="paramname">takeOwnership</td><td>If true, this class will free() artist and title. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad86b2b07149dada381a89ba3985ce627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad86b2b07149dada381a89ba3985ce627">&#9670;&nbsp;</a></span>recordNonInterleaved()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Superpowered::Recorder::recordNonInterleaved </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>numberOfFrames</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes incoming non-interleaved stereo audio. </p>
<dl class="section return"><dt>Returns</dt><dd>Seconds recorded so far. It's never blocking for real-time usage. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">left</td><td>Pointer to floating point numbers. Left input channel. </td></tr>
    <tr><td class="paramname">right</td><td>Pointer to floating point numbers. Right input channel. </td></tr>
    <tr><td class="paramname">numberOfFrames</td><td>The number of frames in input. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aab0b0e4742f0a27e6d03cdad86a42692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab0b0e4742f0a27e6d03cdad86a42692">&#9670;&nbsp;</a></span>recordInterleaved()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Superpowered::Recorder::recordInterleaved </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>numberOfFrames</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes incoming interleaved stereo audio. </p>
<dl class="section return"><dt>Returns</dt><dd>Seconds recorded so far. It's never blocking for real-time usage. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>Pointer to floating point numbers. Stereo interleaved audio to record. </td></tr>
    <tr><td class="paramname">numberOfFrames</td><td>The number of frames in input. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
